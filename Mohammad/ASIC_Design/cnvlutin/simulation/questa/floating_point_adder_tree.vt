`timescale 1 ps/ 1 ps

module floating_point_adder_tree_tb();

// test vector input registers
reg [15:0] in01;
reg [15:0] in02;
reg [15:0] in03;
reg [15:0] in04;
reg [15:0] in05;
reg [15:0] in06;
reg [15:0] in07;
reg [15:0] in08;
reg [15:0] in09;
reg [15:0] in10;
reg [15:0] in11;
reg [15:0] in12;
reg [15:0] in13;
reg [15:0] in14;
reg [15:0] in15;
reg [15:0] in16;
reg [15:0] in_nbout;
// wires
wire [15:0] out_sum;

// port map - connection between master ports and signals/registers
floating_point_adder_tree i1 (
	.in01(in01),
	.in02(in02),
	.in03(in03),
	.in04(in04),
	.in05(in05),
	.in06(in06),
	.in07(in07),
	.in08(in08),
	.in09(in09),
	.in10(in10),
	.in11(in11),
	.in12(in12),
	.in13(in13),
	.in14(in14),
	.in15(in15),
	.in16(in16),
	.in_nbout(in_nbout),
	.out_sum(out_sum)
);

initial begin                                                  

in01 = 16'd0;
in02 = 16'd0;
in03 = 16'd0;
in04 = 16'd0;
in05 = 16'd0;
in06 = 16'd0;
in07 = 16'd0;
in08 = 16'd0;
in09 = 16'd0;
in10 = 16'd0;
in11 = 16'd0;
in12 = 16'd0;
in13 = 16'd0;
in14 = 16'd0;
in15 = 16'd0;
in16 = 16'd0;
in_nbout = 16'd0;

#100
in01 = 16'b0100011001000000; // +6.25
in02 = 16'b1100110010000000; // -18.0
in03 = 16'b0100100011000000; // +9.5
in04 = 16'b0101100000110001; // +134.125
in05 = 16'b1100000010000000; // -2.25
in06 = 16'b0101011011101011; // +110.6875
in07 = 16'b0101100100110011; // +166.375
in08 = 16'b1101011011010011; // -109.1875
in09 = 16'b0101010111010010; // +93.125
in10 = 16'b1100101111111111; // -15.9921
in11 = 16'b1101100111011001; // -187.125
in12 = 16'b1100101111111111; // -15.9921
in13 = 16'b1101101111111111; // -255.875
in14 = 16'b1101011011110011; // -111.1875
in15 = 16'b0100001010110001; // +3.3457
in16 = 16'b0100011010110001; // +6.6914
in_nbout = 16'b1101001111111111; // -63.9687

// Result: Simulation (half-precision): -249.125 (1101101111001001) , Calculator (full-precision): -249.4783 (1101101111001100)

#100
in01 = 16'b0100111001010100; // +25.31
in02 = 16'b0101001100100000; // +57.01
in03 = 16'b0010111110111110; // +0.121
in04 = 16'b0011110010000000; // +1.125
in05 = 16'b1100000010000001; // -2.251
in06 = 16'b0101010010111011; // +75.68
in07 = 16'b0011110000100110; // +1.037
in08 = 16'b1100100100011000; // -10.187
in09 = 16'b0101010110110010; // +91.12
in10 = 16'b1100010100010011; // -5.075
in11 = 16'b1100011100000011; // -7.0125
in12 = 16'b1100101111111111; // -15.99
in13 = 16'b0100111001000000; // +25.001
in14 = 16'b1100100110010111; // -11.18
in15 = 16'b0100101010101100; // +13.345
in16 = 16'b0100110000101100; // +16.691
in_nbout = 16'b1100001111110000; // -3.9681

// Result: Simulation (half-precision): +250.75 (0101101111010110) , Calculator (full-precision): +250.7764 (0101101111010110)

#100;

end

endmodule